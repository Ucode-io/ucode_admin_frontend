# Default values for microservice.                                                                                                         
# This is a YAML-formatted file.                                                                                                           
# Declare variables to be passed into your templates.                                                                                      
global:                                                                                                                                    
  replicaCount: 1                                                                                                                          
  environment: {}
   # list of key: value                                                                                                                    
   # GLOBAL1: value                                                                                                                        
                                                                                                                                           
replicaCount: 1                                                                                                                            
                                                                                                                                           
image:                                                                                                                                     
  registry: gitlab.udevs.io:5050/                                                                                                          
  repository: medion/medion_react_admin
  pullPolicy: IfNotPresent                                                                                                                 
  # Overrides the image tag whose default is the chart appVersion.                                                                         
  tag: "parfume" 

# image:                                                                                                                                     
#   registry: harbor.udevs.io/                                                                                                          
#   repository: medion/medion_go_admin_api_gateway
#   pullPolicy: IfNotPresent                                                                                                                 
#   # Overrides the image tag whose default is the chart appVersion.                                                                         
#   tag: "latest" 
                                                                                                                                           
imagePullSecrets: "gitlab-registry"                                                                                                        
nameOverride: ""                                                                                                                           
fullnameOverride: ""                                                                                                                       
labels:
  app: node-pos-service                                                                                                                                          
# command: ["/bin/sh","-c"]                                                                                                                
# args: ["echo 'consuming a message'; sleep 5"]                                                                                            
                                                                                                                                                                                                                                                                                      
serviceAccount:                                                                                                                            
  # Specifies whether a service account should be created                                                                                                                                                                                                                             
  create: true
  # Annotations to add to the service account                                                                                                                                                                                                                                         
  annotations: {}                                                                                                                                                                                                                                                                     
  # The name of the service account to use.                                                                                                
  # If not set and create is true, a name is generated using the fullname template                                                                                                                                                                                                    
  name: "vault"                                                                                                                                 
                                                                                                                                           
podAnnotations: {}
#   vault.hashicorp.com/agent-inject: "true"
#   vault.hashicorp.com/log-level: "debug"
#   vault.hashicorp.com/auth-path: "auth/kubernetes-parfume"
#   vault.hashicorp.com/agent-inject-secret-.env: "secret/data/k8s/parfume-test/node_object_builder_service" 
#   vault.hashicorp.com/secret-volume-path-.env: "/app"
#   vault.hashicorp.com/role: "parfume"
#   vault.hashicorp.com/agent-inject-template-.env: |
#     {{- with secret "secret/data/k8s/parfume-test/node_object_builder_service" -}}
#     {{- range $key, $value := .Data.data }}
#     {{ $key }}: {{ $value }}
#     {{- end }}
#     {{ end -}}

  
podLabels:
  app: node-pos-service

podSecurityContext: {}                                                                                  
  # fsGroup: 2000                                                                                                                                                                                               
                                                                                                                                                                                                                
securityContext: {}                                                                                                                                                                                             
  # capabilities:                                                                                                                                                                                               
  #   drop:                                                                                                                                
  #     - ALL                                                                                                                              
  # readOnlyRootFilesystem: true                                                                        
  # runAsNonRoot: true                                                                                                                     
  # runAsUser: 1000                                                                                     
vault: {}                                                                                                          

environment: {}
volumes:                                                                                                                                   
  enabled: false                                                                                                                           
  pvc:                                                                                                                                     
    enabled: false                                                                                                                         
    existing_claim:                                                                                                                                                                                                                                                                   
    name: pvc                                                                                                                              
    mountPath: /pv                                                                                      
    size: 1G                                                                                            
    class:                                                                                              
    accessModes:                                                                                        
      - ReadWriteOnce                                                                                   
                                                                                                        
service:                                                                                                
  type: ClusterIP                                                                                       
  annotations: {}                                                                                       
  specs:
    - port: 80                                                                                                                             
      targetPort: 80                                                                                                                       
      name: https                                                                                                                           

ingress:
    enabled: true
    rules:
      - annotations:
          kubernetes.io/ingress.class: nginx
          cert-manager.io/cluster-issuer: letsencrypt-prod
        type: web
        hosts:                                                                                                                                   
          - host: "test.admin.parfumgallery.uz"
            path: /                                                                                                                              
            servicePort: 80                                                                                                                 
        tls:                                                                                                                                     
          - secretName: react-admin-tls
            hosts:                                                                                                                               
             - "test.admin.parfumgallery.uz"                                                                                              

resources: {}                                                                                                          
  #  limits:                                                                                                                                
  #    cpu: 150m                                                                                                                          
  #    memory: 256Mi                                                                                                                        
  #  requests:                                                                                                                              
  #    cpu: 100m                                                                                                                            
  #    memory: 200Mi                                                                                                                        

autoscaling:                                                                                                                               
  enabled: false                                                                                                                           
  minReplicas: 1                                                                                                                           
  maxReplicas: 100                                                                                                                         
  targetCPUUtilizationPercentage: 80                                                                                                       
  # targetMemoryUtilizationPercentage: 80                                                                                                  

nodeSelector: {}                                                                                                                           

tolerations: []                                                                                                                            

affinity:                                                                                                                                  
  nodeAffinity:                                                                                                                            
    requiredDuringSchedulingIgnoredDuringExecution:                                                                                        
      nodeSelectorTerms:                                                                                                                   
        - matchExpressions:                                                                                                                
            - key: apps
              operator: In                                                                                                                 
              values:                                                                                                                      
                - "true"  
